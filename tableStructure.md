
## profile

#### Description 
Profile for each reported experiment. Profiles can be recorded in an article as single column or a multicolumn table, 
in which case each column is a separate table, linked by bibliographic reference and independent variables. A profile 
relates to a single `plant`. All independent experimental variables should be in or linked to this table.

#### Note
Used to be `infoPdata`.

(The *results* of the experiment are in **profiledata**). 

#### Columns

- profile_id - Primary key. Auto-incremented.
- plant_id [FK] - Foreign key to `plant`. 
- location_id (FK) - Foreign key to `location`.
- biblio_id (FK) - Foreign key to `bibliography`.
- date_id - in ISO8601 date format
- plantPart_id (FK) - Foreign key to plantpart. 
- condition - VARCHAR - "condition" data.  
- method_id (FK) - Foreign key to `method`. 
- legacy_profile_id (JEA*..) for backwards compatibility to V1.0
- profile_id (FK) chemical data for each profile.
- wikidata (URL)
- taxize (ID)

#### Recommendation
Include Date column and remove Date table.
Transfer "condition" to a field.



## plant

#### Description

Identity of plant in profiles. Normalized through external databases (Taxise, Wikidata)

#### Columns

- plant_id - Primary key. Auto-incremented.
- species (binomial) - Plant species, disambiguated and verified through `Taxize`
- family VARCHAR autogenerated from species. 
- genus VARCHAR autogenerated from species.
- Taxize_id
- Wikidata_id



## location
#### Description
Reported location of experiment. Attempt to resolve this to either geocoordinates or Wikidata or both.

#### Columns

- location_id - Primary key. Auto-incremented.
- name VARCHAR - location or address
- region - experiment city/town/village.
- state - state
- country - country
- geocoordinates (ISO) Lat+Long
- wikidata (for region)

## bibliography
#### Description
Bibliography. Mapped onto Authors, Journal, Data, etc.
Currently this is nor present explicitly but is being mapped from text strings.

#### Columns

- biblio_id - id for each bibliography.
- doi - doi number
- doi_link - weblink to doi.
- freefield Bibliographic information **copied from EssoilDB 1.0 infopdata **
- title - title of the article.
- author - author name.
- journal - name of the journal.
- volume - voulume
- year - year of publication.


## profiledata
#### Description 
Composition . The chemical data associated with a profile, occurring as `compound_id` `percent_value` pairs.
Within a profile the `compound_id` must be unique.
Currently profiles with ranges of `percent_value` are excluded.

#### Columns

- profiledata_id - an id for each record in the table.
- profile_id (FK) - link to `profile` in which this data occurs.
- compound_id (FK) - an id assigned to each compound.
- percent (NUMBER) or maybe range - percentage amount of chemical compound as their emission.

## compound

#### Description 
A chemical compound.
Mixtures are not allowed. Generic names are discouraged (e.g. pinene). Gneeric or ambiguous named are recorded 
and we try to identify them more precisely.

#### COLUMNS
*This table is likely to expland columnwise as there will be several methods for translating chemical names.*

- compound_id - Primary key. Auto-incremented. an id assigned to each record into table
- trivial_name - chemical name.
- systematic_name - compound name.
- smiles - SMILES code. (Not orginally present in V1.0)
- cas_no - CAS number.
- formula - Chemical compound formula.
- InChI. ID generated from names and other lookups

## plantpart
#### Description
Plant parts, normalized against controlled vocabulary (maybe Wikidata).

#### Columns
- plantpart_id - Primary key. Auto-incremented. An id for each plant part.
- name - plant part name.
- Wikidata ID


## method
#### Description 
Experimental methodology.
Covers BOTH oil extraction and chemical measurement. Might want to split these later.

#### Columns

- method_id - Primary key. Auto-incremented. Experimental methodology id.
- method VARCHAR not normalized - Experimental methodology.

# TABLES TO BE DELETED OR MERGED

## family
- plant family. => MERGE with `plant` as an autogenerated field (for searching)

## habitat 
plant habitat. REMOVE

## collection_date
merge with `profile`

## chemical_group
REMOVE

## activity
Chemical compound activity. Derived **REMOVE**

##Â conditions 
Merge into `profile` as freefield

#### Description
Experimental conditions
Freefield with no controlled vocabulary or consistency

#### Examples
```
1,(-20 degree) temperature (after 1 month)
2,(-20 degree) temperature (after 2 months)
5,(-20 degree) temperature (after distillation)
6,0 mg/l(selenium treatment)
7,100 % Flowering (Developmental Stage Variation)
8,1994 Analysis
```




